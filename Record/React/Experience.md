# Experience

### React map 사용시 key props를 부여하는 이유

key는 React가 어떤 항목을 변경, 추가 또는 삭제할지 식별하는 것을 돕는다. key는 element에 안정적인 고유성을 부여하기 위해 배열 내부의 엘리먼트에 지정해야한다.

배열을 예로 들로 들어봅시다. 3개의 리스트가 있다고 가정할 때 key값이 없다면 리스트가 추가 된다고 가정할 때 총 4개의 리스트를 리렌더링하게 됩니다. 하지만 Key를 지정한다면 기존의 요소가 변경되지 않았다는 걸 React가 파악하며 새로 생기는 요소에 대해서만 리렌더링을 진행하게 됩니다.

정리 - 각 고유 원소에 key 가 있어야만 배열이 업데이트 될 때 효율적으로 렌더링 될 수 있기 때문이다.

### key값을 배열의 index로 주면 안되는 이유

key값을 index로 지정하고 배열에 요소를 앞에 추가한다고 가정하면 배열이 새로 바뀌게 되면서 컴포넌트가 리렌더링이 되고 이때 index를 다시 매핑하게 됩니다. 이 때 항목의 순서가 바뀌고 key값 역시 바뀌게 되어 예상과 다른 리렌더링을 보여줄 수 있다.

따라서 key에 index를 사용하는 경우는 아래와 같은 한정적인 경우에만 사용하는 것이 좋다.

- 배열과 배열의 항목들이 static 하여 변경되지 않는 경우
- 배열의 항목들이 id 값이 없는 경우
- 배열이 절대 재배열되거나 일부가 삭제되지 않는 경우
